<div class="container">
	<h1>Mini blog</h1>

	<app-post-form-component
		[editing]="editing"
		(save)="onSave($event)"
		(cancel)="onCancel()"
	></app-post-form-component>

	<section class="posts">
		<h3>Lista postów</h3>
		@if (posts().length === 0) {
			<div>Brak postów.</div>
		}
		@for (post of posts(); track post.id) {
            <div class="post">
                <h4>{{ post.title | uppercase }}</h4>
                <div class="meta">Dodano: {{ post.createdAt | date:'d MMMM yyyy, HH:mm' }}</div>
                <div class="meta">Ostatnia modyfikacja: {{ post.modifiedAt | date:'d MMMM yyyy, HH:mm' }}</div>
                <p>{{ post.content }}</p>
                <div class="actions">
                    <button (click)="onEdit(post)">Edytuj</button>
                    <button (click)="onDelete(post.id)">Usuń</button>
                </div>
            </div>
        }
	</section>
</div>