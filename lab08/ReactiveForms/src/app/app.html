<app-user-form [editing]="editing" (save)="onSave($event)" (cancel)="onCancel()"></app-user-form>

<section class="users-list">
	<h3>Lista użytkowników</h3>
	@if (users().length === 0) {
		<div>Brak użytkowników.</div>
	}

	@for (u of users(); track $index) {
		<article class="user-item">
			<div class="user-summary">
				<strong>{{ u.name }} {{ u.surname }}</strong> ({{ u.email }})
			</div>

			<div class="user-addresses">
				<label>Adresy:</label>
				@if (u.address && u.address.length > 0) {
					@for (a of u.address; track $index) {
						<div class="address-card">
							<div>{{ a.street }}</div>
							<div>{{ a.city }}</div>
							<div>{{ a.postalCode }}</div>
						</div>
					}
				}
				@if (!(u.address && u.address.length > 0)) {
					<div>Brak adresów</div>
				}
			</div>

			<div class="user-actions">
				<button type="button" (click)="editUser(u.id)">Edytuj</button>
				<button type="button" (click)="deleteUser(u.id)">Usuń</button>
			</div>
		</article>
	}
</section>